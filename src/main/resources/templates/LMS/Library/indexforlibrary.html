<!DOCTYPE html>
<html lang="en"  xmlns:th="http://www.thymeleaf.org"  xmlns:sec="http://www.w3.org/1999/xhtml">


  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
    <link rel="stylesheet" th:href="@{/Library/style_library.css}" />
    <title>LMS Library</title>
    <style>



.card{
    width: 17rem;
    height: 21rem;
    margin-top: 32px;
    margin-left: 2rem;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
    border-radius: 10px;
  }



.card-body{
    visibility: hidden;
    background-color: #fff;
    width: 17rem;
    position: sticky;
    bottom: 35.9rem;
        margin-bottom: -10rem;
    transform: translateY(101%);
    overflow-y: auto;
    transition: transform 0.3s ease-in;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
    border-radius: 10px;

}

  .card:hover .card-body {
   visibility: visible;


  }
* {
  box-sizing: border-box;
}



.img-fluid{

height: 21rem;
width: 100%;
box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
border-radius: 10px;

}

.addbook1{
height: 33px;
    position: relative;
    left: 77rem;
    top: 10px;
    color: #1a1d1e;
    font-weight: 400;



}


    </style>

  </head>
  <body>
    <div>
<!--      <form id="form">-->
<!--        <input type="text" id="search" class="search" placeholder="Search">-->
<!--      </form>-->
        <th:block th:if="${session.booksmsg}"  >
            <li class="text-center alert alert-success " style="margin: 4px 34rem -3rem 33rem;
    font-size: 14px;
    font-stretch: ultra-expanded;">[[${session.booksmsg}]]</li>
            <!--                      <th:block th:text = "${#session.removeAttribute('msg')}" ></th:block>-->
            <a style="
   position: absolute;
    left: 50.5rem;
    bottom: 45.5rem;
    font-size: 15px;
    text-decoration: blink;"  th:href="@{/removebook}">&times;</a>
        </th:block>
      <!-- Button trigger modal -->
      <!-- Button trigger modal -->
      <!-- Button trigger modal -->
      <!-- Button trigger modal -->
      <a th:href="@{/addbook}" class="btn btn-primary addbook1 rounded-pill" sec:authorize="hasRole('ROLE_ADMIN')">AddBook
      </a>


      <!-- Modal -->




    </div>



    <div class="row row-cols-1 row-cols-md-4 g-4 scroll-container" style="
                  display: flex;
                  flex-wrap: wrap;
                  align-content: center;
                  justify-content: flex-start;
                  align-items: flex-start;
                  ">

                    <div id="main"  th:each="msg:${addBookModel}">
                                  <div class="card" >
                                            <div class="bg-image hover-overlay ripple" data-mdb-ripple-color="light">
                                              <img th:src="@{'/image/'+${msg.image}}" class="img-fluid" />
                                                      <a href="#!">
                                                        <div class="mask" style="background-color: rgba(251, 251, 251, 0.15);"></div>
                                                      </a>
                                            </div>
                                            <div class="card-body"  >
                                                  <div row row-cols-1 >
                                                      <a th:href="@{/deletebook/{id}(id=${msg.addbookid})}" class="btn btn-outline-danger btn-sm" style="font-size:10px;position:sticky" sec:authorize="hasRole('ROLE_ADMIN')" >Remove</a>


                                                            <a th:href="@{/readbook/{id}(id=${msg.addbookid})}" class="btn btn-outline-success btn-sm" style="font-size:10px;margin-left:7px;position:sticky"  >View Book</a>

<!--                                                      <a th:href="@{/readbook/{id}(id=${msg.addbookid})}" class="btn btn-outline-success btn-sm" style="font-size:10px;margin-left:7px">View Book</a>-->

<!--                                                      <a th:href="@{/checkout/{id}(id=${msg.addbookid})}" class="btn btn-outline-success btn-sm" style="font-size:10px;margin-left:7px;position:sticky"  >View Book</a>-->


                                                      <a th:href="@{/getchangebook/{id}(id=${msg.addbookid})}" class="btn btn-outline-info btn-sm" style="font-size:10px;margin-left:7px;position:sticky" sec:authorize="hasRole('ROLE_ADMIN')" >Change</a>

                                                  </div>
                                                <h5 class="card-title" th:text="'&#10;'+${msg.title}" ></h5>
                                                  <p class="card-text" th:text="'Author:&#9;&#9;' +${msg.auther} + '&#10;Publisher:&#9;'+${msg.publisher}+'&#10;' + 'Generic:&#9;'+${msg.genre}+ '&#9;Year:&#9;'+${msg.year}" ></p>
                                    <!--          <a href="#!" class="btn btn-primary">Button</a>-->
                                            </div>
                                  </div>
                        </div>

    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz" crossorigin="anonymous"></script>
    <script th:src="@{/Library/script_library.js}" ></script>
  </body>
</html>
